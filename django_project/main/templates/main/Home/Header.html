{% load static %}

<head>
    <link rel="stylesheet" href="{% static "main/css/Home/Header.css" %}">
</head>

<div class="bg-header"></div>
<div class="header">
    <div class="container">
        <div class="flex">
            <img class="logo" src="{% static "main/Photo/logo.png" %}" alt="logo"/>
            <div class="container-header">
                <a class="text-header" href="">Игры</a>
                <a class="text-header" href="">Новости</a>
                <a class="text-header" href="">О нас</a>

                <div class="dep" style=" position: relative">
                    {% if form != "None" %}
                        <button type="button" class="btn btn-success" data-bs-toggle="modal"
                                data-bs-target="#staticBackdrop">
                            Вы можете изменить адресс вашего кошелька
                        </button>
                    {% else %}
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                data-bs-target="#staticBackdrop">
                            Укажите адрес вашего кошелька!
                        </button>
                    {% endif %}

                </div>


                <li class="bg-balance">
                    <h4 class="balance">{{ request.user }}</h4>
                    <div class="bg-currency">
                        <div class="container-currency">
                            <p class="currency dollor">{{ Profile.balance }} токенов</p>
                            {#                    <p class="currency btc">0,000029BTC</p>#}
                        </div>

                        <div class="container-won">
                            <p class="text-won">Побед: {{ Profile.wins_games }}</p>
                            <p class="text-won">Выигрыш: {{ Profile.wins_coins }}</p>
                        </div>
                        <button type="button" onclick="updete_balance()" class="btn btn-danger">Обновить</button>
                        <div class="container-lose">
                            <p class="text-lose">Поражений: {{ lose }}</p>
                            <p class="text-lose">Проигрыш: 1000</p>
                        </div>
                    </div>
                </li>
                <div
                        class="account"
                        onClick={handlescroll}
                >
                    <svg class="svg-account" width="30" height="30" viewBox="0 0 30 30"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 0C6.72937 0 0 6.72937 0 15C0 19.4319 1.93375 23.42 5 26.1681V26.1788L5.2175 26.3663C5.25562 26.3994 5.2975 26.4269 5.33625 26.4594C5.60563 26.6869 5.88313 26.905 6.16813 27.1138C6.245 27.17 6.32187 27.2244 6.4 27.2787C6.7025 27.4912 7.01188 27.6937 7.32938 27.8837C7.3825 27.9156 7.43688 27.9456 7.49 27.9762C7.83813 28.1788 8.19375 28.3694 8.55875 28.5437C8.5625 28.5456 8.56625 28.5469 8.57 28.5488C9.35063 28.9206 10.1694 29.225 11.0169 29.4587C11.0325 29.4631 11.0481 29.4681 11.0637 29.4719C11.4644 29.5812 11.8719 29.6731 12.285 29.7487C12.3238 29.7556 12.3619 29.7625 12.4006 29.7694C12.7994 29.8394 13.2031 29.895 13.6125 29.9331C13.6594 29.9375 13.7063 29.94 13.7525 29.9438C14.1644 29.9781 14.5794 30 15 30C15.4206 30 15.8356 29.9781 16.2475 29.9438C16.2944 29.94 16.3412 29.9375 16.3875 29.9331C16.7969 29.8956 17.2006 29.8394 17.5994 29.7694C17.6381 29.7625 17.6763 29.7556 17.715 29.7487C18.1281 29.6731 18.5356 29.5812 18.9363 29.4719C18.9519 29.4675 18.9675 29.4631 18.9831 29.4587C19.8306 29.225 20.6494 28.9206 21.43 28.5488C21.4337 28.5469 21.4375 28.5456 21.4412 28.5437C21.8062 28.3694 22.1619 28.1781 22.51 27.9762C22.5637 27.945 22.6175 27.9156 22.6706 27.8837C22.9887 27.6937 23.2981 27.4906 23.6 27.2787C23.6775 27.2244 23.755 27.17 23.8319 27.1138C24.1169 26.905 24.3944 26.6869 24.6638 26.4594C24.7025 26.4269 24.7444 26.3994 24.7825 26.3663L25 26.1788V26.1681C28.0662 23.4194 30 19.4319 30 15C30 6.72937 23.2706 0 15 0ZM15 15C12.2431 15 10 12.7569 10 10C10 7.24312 12.2431 5 15 5C17.7569 5 20 7.24312 20 10C20 12.7569 17.7569 15 15 15ZM16.875 16.25C20.6656 16.25 23.75 19.3344 23.75 23.125V25.5988C23.7237 25.6206 23.6963 25.6406 23.67 25.6625C23.4231 25.8631 23.17 26.0538 22.9113 26.2362C22.8538 26.2769 22.7975 26.3188 22.74 26.3581C22.4606 26.5487 22.1738 26.7275 21.8819 26.8969C21.8288 26.9281 21.775 26.9587 21.7213 26.9894C21.415 27.1612 21.1031 27.3225 20.785 27.47C20.7519 27.4856 20.7181 27.5006 20.6844 27.5156C19.6463 27.9875 18.5525 28.3294 17.4269 28.5319C17.3912 28.5381 17.3556 28.545 17.32 28.5513C16.9656 28.6119 16.6081 28.6588 16.2481 28.6919C16.1987 28.6963 16.1488 28.6994 16.0987 28.7031C15.7344 28.7312 15.3681 28.75 15 28.75C14.6319 28.75 14.2656 28.7313 13.9013 28.7019C13.8519 28.6981 13.8019 28.695 13.7519 28.6906C13.3919 28.6575 13.0344 28.6112 12.68 28.55C12.6444 28.5438 12.6088 28.5375 12.5731 28.5306C11.4475 28.3281 10.3538 27.9862 9.31563 27.5144C9.28187 27.4987 9.24813 27.4844 9.215 27.4688C8.89688 27.3213 8.585 27.16 8.27875 26.9881C8.225 26.9575 8.17188 26.9269 8.11812 26.8956C7.82625 26.7269 7.53938 26.5475 7.26 26.3569C7.20188 26.3175 7.14563 26.2756 7.08875 26.235C6.83 26.0525 6.57688 25.8625 6.33 25.6612C6.30375 25.64 6.27625 25.6194 6.25 25.5975V23.125C6.25 19.3344 9.33438 16.25 13.125 16.25H16.875ZM25 24.4225V23.125C25 19.2056 22.21 15.9256 18.5125 15.1656C20.1631 14.04 21.25 12.1444 21.25 10C21.25 6.55375 18.4463 3.75 15 3.75C11.5538 3.75 8.75 6.55375 8.75 10C8.75 12.1444 9.83687 14.04 11.4875 15.1656C7.79 15.9256 5 19.2056 5 23.125V24.4225C2.6775 21.9594 1.25 18.6444 1.25 15C1.25 7.41813 7.41813 1.25 15 1.25C22.5819 1.25 28.75 7.41813 28.75 15C28.75 18.6444 27.3225 21.9594 25 24.4225Z"
                              fill="white"/>
                    </svg>
                </div>
                <div><a class="login" href="{% url 'register' %}">Регистрация</a> | <a class="login"
                                                                                       href="
">Войти </a>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function updete_balance() {
        var token = '{{csrf_token}}';
        $.ajax({
            url: "updata_balance",
            headers: {
                "X-Requested-With": "XMLHttpRequest",
                "X-CSRFToken": token,
            },
            success: function (response) {
                location.reload();
            },
            error: function (response) {
                alert("Ошибка оплаты");
            }
        });
    }
</script>